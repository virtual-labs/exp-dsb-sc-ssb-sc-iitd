<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Virtual Labs</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <!-- sidebar and body -->
    <div class="flex min-h-[80vh]">
      <div class="px-6 pb-6 flex-1">
        <div id="container">
          <h1>Instructions for DSBSC Modulation</h1>
          <ul>
            <li>
              Step 1: Click on 'Generate Message' button to generate input
              message signal
            </li>
            <li>
              Step 2: Then click on 'Generate Carrier' button to generate
              carrier signal
            </li>
            <li>
              Step 3: The carrier frequency has to be more than the message
              frequency and You can change frequencies using sliders
            </li>
            <li>
              Step 4: Click on 'Generate DSBSC Modulated Signal' button to
              generate DSBSC Modulated Signal
            </li>
          </ul>
          <br />
        </div>

        <div class="flex flex-shrink-0">
          <div class="relative w-[700px] py-2">
            <!-- <div
              class="absolute bg-[#ff0000] h-2 w-[650px] rounded-md top-1 left-14"
            ></div> -->
            <div
              class="absolute bg-[#ff0000] h-[134px] w-2 rounded-md top-1 right-[216px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[84px] rounded-md top-[130px] right-[136px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[100px] rounded-md top-[96px] right-[222px]"
            ></div>
            <div
              class="absolute bg-[#ffff00] h-[150px] w-2 rounded-md top-[444px] right-[216px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[76px] rounded-md top-[586px] right-[216px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[74px] rounded-md top-[441px] right-[150px]"
            ></div>
            <!--  -->
            <div
              class="absolute bg-[#ffff00] h-[100px] w-2 rounded-md top-[252px] left-[210px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[84px] rounded-md top-[252px] left-[130px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[270px] rounded-md top-[348px] left-[210px]"
            ></div>
            <div
              class="absolute bg-[#ffff00] h-[104px] w-2 rounded-md top-[252px] right-[216px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[90px] rounded-md top-[252px] right-[128px]"
            ></div>
            <!--  -->
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[58px] rounded-md top-[252px] right-[10px]"
            ></div>
            <div
              class="absolute bg-[#ff0000] h-[114px] w-2 rounded-md top-[252px] right-[10px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[398px] rounded-md top-[360px] right-[10px]"
            ></div>
            <div
              class="absolute bg-[#ff0000] h-[300px] w-2 rounded-md top-[362px] right-[400px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[218px] rounded-md top-[658px] right-[190px]"
            ></div>
            <div
              class="absolute bg-[#ff0000] h-[104px] w-2 rounded-md top-[560px] right-[190px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[48px] rounded-md top-[559px] right-[150px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[60px] rounded-md top-[586px] right-[344px]"
            ></div>
            <div class="flex justify-around p-8 gap-28">
              <!-- vco -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">VCO</h5>
                <div class="flex justify-around py-1">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] bg-[#ff0000] flex justify-center items-center rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">DATA</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] bg-[#ff0000] flex justify-center items-center rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">TTL</p>
                  </div>
                </div>

                <div
                  class="flex flex-col items-center mt-2 justify-center gap-3"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[4px] relative shadow-black shadow-lg border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">GAIN</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] relative border-[4px] shadow-black shadow-md border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">fo</p>
                  </div>
                </div>
                <!--  -->
                <div class="flex absolute bottom-0 w-full justify-around">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">Vin</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">sin(wt)</p>
                  </div>
                </div>
                <div class="absolute -bottom-28">
                  <!-- carrier frequency -->
                  <div class="flex flex-col items-center">
                    
                  </div>
                </div>
              </div>
              <!-- audio oscillator -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">
                  AUDIO OSCILLATOR
                </h5>
                <div class="flex justify-around py-1">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">SYNC</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">cos(wt)</p>
                  </div>
                </div>

                <div class="flex flex-col items-end">
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ff0000] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">TTL</p>
                  </div>
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] relative left-2 border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">sin(wt)</p>
                  </div>
                </div>

              </div>
              <!-- Multiplier -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">Multiplier</h5>
                <div class="flex flex-col pl-3 pt-[58px] pb-[53px]">
                  <div
                    class="h-[24px] w-[24px] relative border-[5px] border-[#ffff00] bg-black rounded-full"
                  ></div>
                  <p>X</p>
                </div>
                <div class="flex absolute bottom-0 w-full justify-around">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">Y</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">KXY</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex justify-end pr-8 mt-16 mb-8 gap-20">
              <!-- TUNABLE LPF-->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">TUNABLE LPF</h5>
                <div class="flex mt-6 flex-col items-end">
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ff0000] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">CLK</p>
                  </div>
                </div>
                <div class="flex flex-col items-center justify-center gap-3">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[4px] relative shadow-black shadow-lg border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">TUNE</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] relative border-[4px] shadow-black shadow-md border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">GAIN</p>
                  </div>
                </div>
                <!--  -->
                <div
                  class="flex items-center justify-center gap-8 absolute bottom-3 w-full"
                >
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">IN</p>
                  </div>
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">OUT</p>
                  </div>
                </div>
              </div>
              <!-- master signal -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">Scope Selector</h5>
                <div class="flex flex-col gap-3 mt-6 items-start">
                  <div class="flex gap-1 items-start">
                    <div
                      class="h-[22px] w-[22px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">A</p>
                  </div>
                  <div class="flex gap-1 items-start">
                    <div
                      class="h-[22px] w-[22px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">B</p>
                  </div>
                  <div class="flex gap-1 items-start">
                    <div
                      class="h-[22px] w-[22px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">-TRIG</p>
                  </div>
                </div>
                <div class="flex flex-col gap-2 items-start mt-7">
                  <div class="flex gap-1 items-start">
                    <div
                      class="h-[22px] w-[22px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">A</p>
                  </div>
                  <div class="flex gap-1 items-start">
                    <div
                      class="h-[22px] w-[22px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">B</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex flex-col grow-0 items-center">
            <div class="flex w-full py-4 gap-4">
			                <div class="flex flex-col items-center">
                  <p class="text-[13px] pb-1 text-center font-bold">
                    Message Frequency (Hz)
                  </p>
                  <input
                    id="messageFrequency"
                    value="10"
                    type="range"
                    step="1"
                    min="1"
                    max="200"
                    onchange="handleMessageFrequencyChange()"
                  />
                  <div class="leading-none messageFrequencyDiv">10</div>
				                    <button
                    onclick="generateMessage()"
                    class="bg-[#008000] py-1 px-3 rounded-md hover:bg-[#0c9c0c] hover:scale-105"
                  >
                    Generate Message
                  </button>
                </div>

				                <div>
                  <!-- carrier frequency -->
                  <div class="flex flex-col items-center">
                    <p class="text-[13px] pb-1 font-bold">Carrier Frequency (Hz)</p>
                    <input
                      id="carrierFrequency"
                      value="100"
                      type="range"
                      min="1"
                      max="1000"
                      onchange="handleCarrierFrequencyChange()"
                    />
                    <div class="leading-none carrierFrequencyDiv">100</div>
                    <button
                      onclick="generateCarrier()"
                      class="bg-[#008000] py-1 px-3 mt-1 rounded-md hover:bg-[#0c9c0c] hover:scale-105"
                    >
                      Generate Carrier
                    </button>
                  </div>
                </div>
				
				<div>
                  <!-- Gain -->
                  <div class="flex flex-col items-center">
                    <p class="text-[13px] pb-1 font-bold">Gain</p>
                    <input
                      id="gain"
                      value="1"
                      type="range"
                      min="1"
                      max="10"
                      onchange="handleGainChange()"
                    />
                    <div class="leading-none gainDiv">1</div>
                  </div>
                </div>
				
              <div class="flex items-center gap-2">
                <p class="text-nowrap font-medium"></p>
                <input
                  class="border px-1 w-[152px] py-1 rounded-sm border-black"
                  min="1"
                  type="number"
                  id="samplingFrequency"
                  value="10000"
                  placeholder="sampling frequency in Hz"
                />
              </div>
              <button
                class="bg-blue-500 text-white py-1 px-3 text-sm rounded-md hover:scale-105"
                onclick="generateDSBSC()"
              >
                Generate DSB-SC Modulated Signal
              </button>
			                <button
                class="bg-blue-500 text-white py-1 px-3 text-sm rounded-md hover:scale-105"
                onclick="generatePlots()"
              >
                Perform DSB-SC Demodulation
              </button>
            </div>
            <div class="plotSection">
              <canvas id="dsbscPlotCanvas" class="w-[600px] h-[0px]"></canvas>
              <canvas id="carrierPlotCanvas" class="w-[600px] h-[0px]"></canvas>
              <canvas id="messagePlotCanvas" class="w-[600px] h-[0px]"></canvas>
            </div>
          </div>
        </div>

        <br />
        <br />
        <hr />
        <br />
        <div id="container">
          <h1>Instructions for DSBSC Demodulation</h1>
          <ul>
            <li>
              Step 1: Tunable LPF's Cutoff frequency works in accordance with
              the Message frequency
            </li>

            <li>
              Step 2: Click on the 'Perform DSB-SC Demodulation' button to generate the demodulated signal
            </li>
			
			            <li>
              Step 3: Click on the 'Show Frequency Spectrums' button to see spectrums of the message, modulated, and demodulated signal
            </li>
          </ul>
        </div>
        <div class="flex flex-shrink-0">
          <div class="relative w-[700px] py-2">
            <div
              class="absolute bg-[#ffff00] h-[228px] w-2 rounded-md top-[240px] left-[210px]"
            ></div>
            <div
              class="absolute bg-[#ff0000] h-[74px] w-2 rounded-md top-[130px] left-[210px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[72px] rounded-md top-[240px] left-[144px]"
            ></div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 w-[186px] rounded-md top-[252px] left-[384px]"
            ></div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 flex justify-end w-[84px] rounded-md top-[252px] -right-[8px]"
            >
              <p class="font-medium pt-1">CH2-B</p>
            </div>
            <div
              class="absolute bg-[#0000ff] h-[338px] w-2 rounded-md top-[252px] left-[252px]"
            ></div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 w-[72px] rounded-md top-[252px] left-[252px]"
            ></div>
            <div
              class="z-10 absolute bg-[#0000ff] flex justify-end h-2 w-[192px] rounded-md top-[322px] left-[252px]"
            >
              <p class="font-bold pt-1">CH1-A</p>
            </div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 w-[72px] rounded-md top-[582px] left-[252px]"
            ></div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 w-[82px] flex justify-end rounded-md top-[582px] left-[390px]"
            >
              <p class="font-bold pt-1">CH2-A</p>
            </div>
            <div
              class="z-10 absolute bg-[#0000ff] h-2 w-[102px] rounded-md top-[570px] left-[152px]"
            ></div>

            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[70px] rounded-md top-[198px] left-[148px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ffff00] h-2 w-[110px] rounded-md top-[460px] left-[210px]"
            ></div>
            <div
              class="z-10 absolute bg-[#ff0000] h-2 w-[110px] rounded-md top-[130px] left-[210px]"
            ></div>
            <div class="flex justify-around p-8 gap-28">
              <!-- audio oscillator -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">
                  AUDIO OSCILLATOR
                </h5>
                <div class="flex justify-around py-1">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">SYNC</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">cos(wt)</p>
                  </div>
                </div>

                <div class="flex flex-col items-end">
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ff0000] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">TTL</p>
                  </div>
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] relative left-2 border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">sin(wt)</p>
                  </div>
                </div>
              </div>
              <!-- Multiplier -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">Multiplier</h5>
                <div class="flex flex-col pl-3 pt-[58px] pb-[53px]">
                  <div
                    class="h-[24px] w-[24px] relative border-[5px] border-[#ffff00] bg-black rounded-full"
                  ></div>
                  <p>X</p>
                </div>
                <div class="flex absolute bottom-0 w-full justify-around">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">Y</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">KXY</p>
                  </div>
                </div>
              </div>
              <!-- TUNABLE LPF-->
              <div
                class="mr-2 relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">TUNABLE LPF</h5>
                <div class="flex mt-6 flex-col items-end">
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ff0000] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">CLK</p>
                  </div>
                </div>
                <div class="flex flex-col items-center justify-center gap-4">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] border-[4px] relative shadow-black shadow-lg border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">TUNE</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] relative border-[4px] shadow-black shadow-md border-black bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="w-1 h-2 absolute top-[50%] left-[40%] bg-black"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">GAIN</p>
                  </div>
                </div>
                <!--  -->
                <div
                  class="flex items-center justify-center gap-8 absolute bottom-0 w-full"
                >
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">IN</p>
                  </div>
                  <div class="flex flex-col items-start">
                    <div
                      class="h-[24px] w-[24px] border-[5px] border-[#ffff00] bg-black rounded-full"
                    ></div>
                    <p class="text-[12px] font-medium">OUT</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex px-8 mt-12 mb-8 gap-28">
              <!-- master signal -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">Master Signals</h5>
                <div
                  class="absolute top-[90px] flex flex-col items-center gap-y-1"
                >

                </div>
                <div class="flex flex-col gap-4 mt-4 items-end">
                  <div class="flex items-center gap-1">
                    <p class="text-[12px] font-medium">100KHz sin</p>
                    <div
                      class="h-[22px] w-[22px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                  </div>
                  <div class="flex items-center gap-1">
                    <p class="text-[12px] font-medium">100KHz cos</p>
                    <div
                      class="h-[22px] w-[22px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                  </div>
                  <div class="flex items-center gap-1">
                    <p class="text-[12px] font-medium">100KHz TTL</p>
                    <div
                      class="h-[22px] w-[22px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                  </div>
                  <div class="flex items-center gap-1">
                    <p class="text-[12px] font-medium">sample TTL</p>
                    <div
                      class="h-[22px] w-[22px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                  </div>
                  <div class="flex items-center gap-1">
                    <p class="text-[12px] font-medium">message sin</p>
                    <div
                      class="h-[22px] w-[22px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Multiplier -->
              <div
                class="relative bg-[#a9a9a9] p-1 pt-0 border-4 shadow-[5px_5px_5px_5px_rgba(0,0,0,0.6)] border-black w-[140px] h-[250px]"
              >
                <h5 class="text-center text-sm font-medium">Multiplier</h5>
                <div class="flex flex-col pl-3 pt-[58px] pb-[53px]">
                  <div
                    class="h-[24px] w-[24px] relative border-[5px] border-[#ffff00] bg-black rounded-full"
                  ></div>
                  <p>X</p>
                </div>
                <div class="flex absolute bottom-0 w-full justify-around">
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">Y</p>
                  </div>
                  <div class="flex flex-col items-center">
                    <div
                      class="h-[24px] w-[24px] flex justify-center items-center bg-[#ffff00] rounded-full"
                    >
                      <div
                        class="h-[14px] w-[14px] bg-[#000] rounded-full"
                      ></div>
                    </div>
                    <p class="text-[12px] font-medium">KXY</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex flex-col grow-0 items-center">
            <div class="flex w-full py-4 gap-4">
              <div class="flex flex-1 justify-center gap-1 items-center">
                <p class="text-nowrap font-medium"></p>
                <input
                  class="border px-1 w-[142px] py-1 rounded-sm border-black"
                  min="1"
                  type="number"
                  id="samplingFrequency_demod"
                  value="1000"
                  placeholder="sampling frequency in Hz"
                />
              </div>
              <div class="flex flex-1 items-center gap-1">
                <p class="text-nowrap font-medium"></p>
                <input
                  class="border px-1 w-[142px] py-1 rounded-sm border-black"
                  min="1"
                  type="number"
                  id="filterOrder"
                  value="20"
                />
              </div>
            </div>
            <div class="flex w-full py-4 gap-4">
              <div class="flex items-center gap-2">
                <p class="font-medium"></p>
                <input
                  class="border px-1 w-[152px] py-1 rounded-sm border-black"
                  type="number"
                  id="cutoffFrequency"
                  min="1"
                  value="10"
                />
              </div>
              <button
                class="bg-blue-500 text-white py-1 px-3 text-sm rounded-md hover:scale-105"
				
                onclick="generatePlots()"
              >
                Perform DSB-SC Demodulation
              </button>
			  
			      <button 
				  class="bg-blue-500 text-white py-1 px-3 text-sm rounded-md hover:scale-105" id="modtodemod"
				  onclick="frequencySpectrums()">Show Frequency Spectrums</button>

            </div>
            <div class="plotSection">
              <canvas
                id="dsbscDemodulatedPlotCanvas"
                class="w-[600px] h-[0px]"
              ></canvas>

            </div>
          </div>
        </div>
      </div>
    </div>



    <div class="plot-container1">
        <div id="plot-message" class="plot1"></div>
        <div id="plot-dsb" class="plot1"></div>
        <div id="plot-demodulated" class="plot1"></div>
    </div>
	
	<script>
	        function checkFrequencies() {
            // Get values from input fields
            let carrierFrequency = parseFloat(document.getElementById('carrierFrequency').value);
            let messageFrequency = parseFloat(document.getElementById('messageFrequency').value);
            
            // Check the frequencies
            if (carrierFrequency <= messageFrequency) {
                alert("Carrier frequency should be greater than message frequency.");
            } else {
                console.log("Carrier frequency is greater than message frequency.");
            }
        }

        // Function to attach event listeners to all buttons
        function attachEventListeners() {
            let buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', checkFrequencies);
            });
        }

        // Attach event listeners when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', attachEventListeners);

    </script>
	
    <script>
      function handleMessageFrequencyChange() {
        const messageValue = parseFloat(
          document.getElementById("messageFrequency").value
        );
        document.querySelector(".messageFrequencyDiv").innerHTML = messageValue;
      }
      function handleCarrierFrequencyChange() {
        const messageValue = parseFloat(
          document.getElementById("carrierFrequency").value
        );
        document.querySelector(".carrierFrequencyDiv").innerHTML = messageValue;
      }
	  function handleGainChange() {
        const gainValue = parseFloat(
          document.getElementById("gain").value
        );
        document.querySelector(".gainDiv").innerHTML = gainValue;
      }
      function dsbsc_modulation(
        messageFrequency,
        carrierFrequency,
        samplingFrequency,
		gain
      ) {
        const numSamples = samplingFrequency;
        const x_values = Array.from(
          { length: numSamples },
          (_, i) => i / numSamples
        );
        const message_signal = x_values.map((x) =>
          gain*Math.sin(2 * Math.PI * messageFrequency * x)
        );
        const carrier_signal = x_values.map((x) =>
          Math.cos(2 * Math.PI * carrierFrequency * x)
        );
        const dsbsc_modulated_signal = message_signal.map(
          (value, index) => value * carrier_signal[index]
        );
        return {
          x: x_values,
          y: dsbsc_modulated_signal,
          message: message_signal,
          carrier: carrier_signal,
        };
      }

      function plotGraph(result, canvasId) {
        const ctx = document.getElementById(canvasId).getContext("2d");

        // Destroy existing chart instance
        if (window[canvasId + "Chart"]) {
          window[canvasId + "Chart"].destroy();
        }

        const plotData = {
          labels: result.x,
          datasets: [
            {
              label:
                canvasId === "messagePlotCanvas"
                  ? "Message Signal"
                  : canvasId === "carrierPlotCanvas"
                  ? "Carrier Signal"
                  : "DSBSC Modulated Signal",
              data:
                canvasId === "messagePlotCanvas"
                  ? result.message
                  : canvasId === "carrierPlotCanvas"
                  ? result.carrier
                  : result.y,
              borderColor:
                canvasId === "messagePlotCanvas"
                  ? "red"
                  : canvasId === "carrierPlotCanvas"
                  ? "green"
                  : "blue",
              borderWidth: 1,
              fill: false,
            },
          ],
        };
        window[canvasId + "Chart"] = new Chart(ctx, {
          type: "line",
          data: plotData,
          options: {
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Time",
                },
              },
              y: {
                title: {
                  display: true,
                  text: "Amplitude",
                },
              },
            },
          },
        });
      }

      function generateMessage() {
        const messageFrequency = parseFloat(
          document.getElementById("messageFrequency").value
        );
        const carrierFrequency = parseFloat(
          document.getElementById("carrierFrequency").value
        );

                const samplingFrequency = 100 * parseFloat(
          document.getElementById("carrierFrequency").value
        );
		
		        const gain = parseFloat(
          document.getElementById("gain").value
        );

        const result = dsbsc_modulation(
          messageFrequency,
          carrierFrequency,
          samplingFrequency,
		  gain
        );
        plotGraph(result, "messagePlotCanvas");
      }

      function generateCarrier() {
        const messageFrequency = parseFloat(
          document.getElementById("messageFrequency").value
        );
        const carrierFrequency = parseFloat(
          document.getElementById("carrierFrequency").value
        );
        const samplingFrequency = parseFloat(
          document.getElementById("samplingFrequency").value
        );

        const result = dsbsc_modulation(
          messageFrequency,
          carrierFrequency,
          samplingFrequency
        );
        plotGraph(result, "carrierPlotCanvas");
      }

      function generateDSBSC() {
        const messageFrequency = parseFloat(
          document.getElementById("messageFrequency").value
        );
        const carrierFrequency = parseFloat(
          document.getElementById("carrierFrequency").value
        );
        const samplingFrequency = 100 * parseFloat(
          document.getElementById("carrierFrequency").value
        );
        const gain = parseFloat(
          document.getElementById("gain").value
        );
        const result = dsbsc_modulation(
          messageFrequency,
          carrierFrequency,
          samplingFrequency,
		  gain
        );
        plotGraph(result, "dsbscPlotCanvas");
      }
    </script>
    <!-- demod script -->
     <script>
        function handleMessageFrequencyChange_demod() {
            const messageValue = parseFloat(
                document.getElementById("messageFrequency").value
            );
            document.querySelector(".messageFrequencyDiv").innerHTML =
                messageValue;
        }

        function handleCarrierFrequencyChange_demod() {
            const messageValue = parseFloat(
                document.getElementById("carrierFrequency").value
            );
            document.querySelector(".carrierFrequencyDiv").innerHTML =
                messageValue;
        }

        let myChart1, myChart2, myChart3; // Global variables to hold the chart instances

        function dsbsc_demodulation(
            messageFrequency,
            carrierFrequency,
            samplingFrequency,
            cutoffFrequency,
            filterOrder
        ) {
            const fs = samplingFrequency;
            const numSamples = 10 * parseFloat(
                document.getElementById("carrierFrequency").value
            );
            const x_values = Array.from({ length: numSamples }, (_, i) => i / fs);
            const message_signal = x_values.map((x) =>
                Math.sin(2 * Math.PI * messageFrequency * x)
            );
            const carrier_signal = x_values.map((x) =>
                Math.cos(2 * Math.PI * carrierFrequency * x)
            );
            const dsbsc_modulated_signal = message_signal.map(
                (value, index) => value * carrier_signal[index]
            );
            const dsbsc_demodulated_signal = dsbsc_modulated_signal.map(
                (value, index) => value * carrier_signal[index]
            );

            // Low-pass filter the demodulated signal
            const lpf_cutoff = cutoffFrequency;
            const lpfOrder = filterOrder;
            const nyquist = 0.5 * fs;
            const lpfCutoffNormalized = lpf_cutoff / nyquist;
            const b = butterworthCoefficients(lpfOrder, lpfCutoffNormalized, "low");
            const a = [1]; // Denominator coefficients are 1 for an FIR filter
            const dsbsc_demodulated_signal_filtered = applyFilter(
                b,
                a,
                dsbsc_demodulated_signal
            );

            // Normalize the demodulated signal to the range [-1, 1]
            const minVal = Math.min(...dsbsc_demodulated_signal_filtered);
            const maxVal = Math.max(...dsbsc_demodulated_signal_filtered);
            const range = maxVal - minVal;

            const dsbsc_demodulated_signal_normalized = dsbsc_demodulated_signal_filtered.map(
                (value) => (2 * (value - minVal)) / range - 1
            );

            return {
                x: x_values,
                y: dsbsc_demodulated_signal_normalized,
                modulated_signal: dsbsc_modulated_signal,
                message_signal: message_signal,
            };
        }

        // Function to compute Butterworth filter coefficients
        function butterworthCoefficients(order, cutoff, type) {
            const coefficients = [];
            const k = Math.tan(Math.PI * cutoff);
            const sqrt2 = Math.sqrt(2);

            if (type === "low") {
                const denominator = 1 + sqrt2 * k + Math.pow(k, 2);
                for (let i = 0; i <= order; i++) {
                    const theta = ((2 * i + 1) * Math.PI) / (2 * order);
                    const sinTheta = Math.sin(theta);
                    const a = Math.pow(1 - sinTheta, 2);
                    const b = sqrt2 * Math.cos(theta);
                    const c = Math.pow(1 + sinTheta, 2);
                    coefficients.push((a + b + c) / denominator);
                }
            }

            return coefficients;
        }

        // Function to apply a filter to a signal
        function applyFilter(b, a, signal) {
            const filteredSignal = [];
            const len = signal.length;
            for (let n = 0; n < len; n++) {
                let y = 0;
                for (let i = 0; i < b.length; i++) {
                    if (n - i >= 0) {
                        y += b[i] * signal[n - i];
                    }
                }
                for (let i = 1; i < a.length; i++) {
                    if (n - i >= 0) {
                        y -= a[i] * filteredSignal[n - i];
                    }
                }
                filteredSignal.push(y);
            }
            return filteredSignal;
        }

        function plotDSBSCDemodulatedSignal(result) {
            const ctx = document
                .getElementById("dsbscDemodulatedPlotCanvas")
                .getContext("2d");

            const plotData = {
                labels: result.x,
                datasets: [
                    {
                        label: "DSBSC Demodulated Signal",
                        data: result.y,
                        borderColor: "blue",
                        borderWidth: 1,
                        fill: false,
                    },
                ],
            };

            // Destroy existing chart if it exists
            if (myChart1) {
                myChart1.destroy();
            }

            myChart1 = new Chart(ctx, {
                type: "line",
                data: plotData,
                options: {
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: "Time",
                            },
                        },
                        y: {
                            title: {
                                display: true,
                                text: "Normalized Amplitude",
                            },
                        },
                    },
                },
            });
        }

        function plotDSBSCModulatedSignal(result) {
            const ctx = document
                .getElementById("dsbscModulatedPlotCanvas")
                .getContext("2d");

            const plotData = {
                labels: result.x,
                datasets: [
                    {
                        label: "DSBSC Modulated Signal",
                        data: result.modulated_signal,
                        borderColor: "red",
                        borderWidth: 1,
                        fill: false,
                    },
                ],
            };

            // Destroy existing chart if it exists
            if (myChart2) {
                myChart2.destroy();
            }

            myChart2 = new Chart(ctx, {
                type: "line",
                data: plotData,
                options: {
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: "Time",
                            },
                        },
                        y: {
                            title: {
                                display: true,
                                text: "Amplitude",
                            },
                        },
                    },
                },
            });
        }

        function plotMessageSignal(result) {
            const ctx = document
                .getElementById("messageSignalPlotCanvas")
                .getContext("2d");

            const plotData = {
                labels: result.x,
                datasets: [
                    {
                        label: "Message Signal",
                        data: result.message_signal,
                        borderColor: "green",
                        borderWidth: 1,
                        fill: false,
                    },
                ],
            };

            // Destroy existing chart if it exists
            if (myChart3) {
                myChart3.destroy();
            }

            myChart3 = new Chart(ctx, {
                type: "line",
                data: plotData,
                options: {
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: "Time",
                            },
                        },
                        y: {
                            title: {
                                display: true,
                                text: "Normalized Amplitude",
                            },
                        },
                    },
                },
            });
        }

        function generatePlots() {
            const messageFrequency = parseFloat(
                document.getElementById("messageFrequency").value
            );
            const carrierFrequency = parseFloat(
                document.getElementById("carrierFrequency").value
            );
            const samplingFrequency = 10 * parseFloat(
                document.getElementById("carrierFrequency").value
            );
            const cutoffFrequency = parseFloat(
                document.getElementById("cutoffFrequency").value
            );
            const filterOrder = parseInt(
                document.getElementById("filterOrder").value
            );

            const result = dsbsc_demodulation(
                messageFrequency,
                carrierFrequency,
                samplingFrequency,
                cutoffFrequency,
                filterOrder
            );
			
								            // Scroll to the plot area
            document.getElementById('modtodemod').scrollIntoView({ behavior: 'smooth' });
			
            plotDSBSCDemodulatedSignal(result);
            plotDSBSCModulatedSignal(result);
            plotMessageSignal(result);
			

        }
    </script>
	
	
  <script>
  	 			function log10(value) {
    return Math.log(value) / Math.log(10);
}
        function handleMessageFrequencyChange_demod() {
            const messageFrequencyValue = parseFloat(
                document.getElementById("messageFrequency").value
            );
            document.querySelector(".messageFrequencyDiv").innerHTML = messageFrequencyValue;
        }

        function handleCarrierFrequencyChange_demod() {
            const carrierFrequencyValue = parseFloat(
                document.getElementById("carrierFrequency").value
            );
            document.querySelector(".carrierFrequencyDiv").innerHTML = carrierFrequencyValue;
        }
		
		        function handleGainChange() {
            const gainValue = parseFloat(
                document.getElementById("gain").value
            );
            document.querySelector(".gainDiv").innerHTML = gainValue;
        }

        function frequencySpectrums() {
            // Get user inputs
            const carrierFrequency = parseFloat(document.getElementById('carrierFrequency').value);
            const messageFrequency = parseFloat(document.getElementById('messageFrequency').value);
			const gain = parseFloat(document.getElementById('gain').value);

            // Calculate sideband frequencies
            const lowerSidebandFrequency = carrierFrequency - messageFrequency;
            const upperSidebandFrequency = carrierFrequency + messageFrequency;

            // Define the magnitudes for each frequency component
            const lowerSideband = { frequency: lowerSidebandFrequency, magnitude: 10*log10(((0.5*gain)**2)/2), label: 'Lower Sideband' };
            const upperSideband = { frequency: upperSidebandFrequency, magnitude: 10*log10(((0.5*gain)**2)/2), label: 'Upper Sideband' };

            // Create trace for the lower sideband
            const traceLowerSideband = {
                x: [lowerSideband.frequency, lowerSideband.frequency],
                y: [0, lowerSideband.magnitude],
                mode: 'lines',
                type: 'scatter',
                line: {
                    width: 3,
                    color: 'blue'
                },
                name: lowerSideband.label
            };

            // Create trace for the upper sideband
            const traceUpperSideband = {
                x: [upperSideband.frequency, upperSideband.frequency],
                y: [0, upperSideband.magnitude],
                mode: 'lines',
                type: 'scatter',
                line: {
                    width: 3,
                    color: 'red'
                },
                name: upperSideband.label
            };

            // Create trace for the message signal spectrum
            const traceMessageSignal = {
                x: [messageFrequency, messageFrequency],
                y: [0, 10*log10(((1*gain)**2)/2)], // Amplitude of 1
                mode: 'lines',
                type: 'scatter',
                line: {
                    width: 3,
                    color: 'green'
                },
                name: 'Message Signal'
            };

            // Create trace for the demodulated signal spectrum
            const traceDemodulatedSignal = {
                x: [messageFrequency, messageFrequency],
                y: [0, 10*log10((1**2)/2)], // Amplitude of 1
                mode: 'lines',
                type: 'scatter',
                line: {
                    width: 3,
                    color: 'orange'
                },
                name: 'Demodulated Signal'
            };

            // Define layouts for each plot
            const layoutDSB = {
                title: 'DSB-SC Signal Spectrum',
                xaxis: {
                    title: 'Frequency (Hz)',
                    showgrid: true,
                    zeroline: true,
                    range: [lowerSidebandFrequency - 10, upperSidebandFrequency + 10]
                },
                yaxis: {
                    title: 'Normalized PSD (dB/Hz)',
                    showgrid: true,
                    zeroline: true,
                    //range: [0, 1.2]
                },
                legend: {
                    x: 1,
                    y: 1,
                    traceorder: 'normal',
                    font: {
                        family: 'sans-serif',
                        size: 12,
                        color: '#000'
                    },
                    bgcolor: '#E2E2E2',
                    bordercolor: '#FFFFFF',
                    borderwidth: 2
                }
            };

            const layoutMessage = {
                title: 'Message Signal Spectrum',
                xaxis: {
                    title: 'Frequency (Hz)',
                    showgrid: true,
                    zeroline: true,
                    range: [messageFrequency - 10, messageFrequency + 10]
                },
                yaxis: {
                    title: 'Normalized PSD (dB/Hz)',
                    showgrid: true,
                    zeroline: true,
                    //range: [0, 1.2]
                }
            };

            const layoutDemodulated = {
                title: 'Demodulated Signal Spectrum',
                xaxis: {
                    title: 'Frequency (Hz)',
                    showgrid: true,
                    zeroline: true,
                    range: [messageFrequency - 10, messageFrequency + 10]
                },
                yaxis: {
                    title: 'Normalized PSD (dB/Hz)',
                    showgrid: true,
                    zeroline: true,
                    //range: [0, 1.2]
                }
            };

            // Render the plots
            Plotly.newPlot('plot-message', [traceMessageSignal], layoutMessage);
            Plotly.newPlot('plot-dsb', [traceLowerSideband, traceUpperSideband], layoutDSB);
            Plotly.newPlot('plot-demodulated', [traceDemodulatedSignal], layoutDemodulated);
       

        // Initial plot rendering
        // Call the function to render the plots
        //frequencySpectrums();
		
		 // Smooth scroll to the plot container
            document.querySelector('.plot-container1').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
	

    <style>
      #cutoff {
        display: none;
      }
	  
	        #samplingFrequency {
        display: none;
      }
	  
	  #filterOrder,#cutoffFrequency,#samplingFrequency_demod {
display: none;
}

      .container {
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 20px 40px;
        max-width: 1000px; /* Increased max-width to fit three plots side by side */
        margin: 0 auto; /* Center the container */
        text-align: center;
      }

      h1 {
        color: #333;
        font-size: 22px; /* Increased font size */
        margin-bottom: 20px;
      }

      ul {
        list-style-type: none;
        padding: 0;
      }

      li {
        background-color: #e0e7ff;
        margin: 5px 0;
        padding: 5px;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        font-size: 14px; /* Set font size for list items */
      }

      li::before {
        content: "✔";
        color: #4caf50;
        margin-right: 10px;
      }

      .plot-container {
        display: flex;
        justify-content: space-between;
        gap: 20px; /* Add space between plots */
        flex-wrap: wrap; /* Allow wrapping for smaller screens */
        margin-bottom: 20px; /* Add space below the plots */
      }
	  
	          .plot-container1 {
            width: 90%;
            margin: auto;
            display: flex;
            justify-content: space-between;
        }
        .plot {
            width: 30%;
        }
    .plot-container1 {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .plot1 {
            width: 30%;
            height: 400px; /* Adjust height as needed */
            margin: 10px;
        }
      .plot {
        flex: 1 1 calc(33.33% - 20px); /* Responsive width for three plots side by side */
        min-width: 300px; /* Minimum width to ensure responsiveness */
        height: 400px;
      }
	  


    </style>
  </body>
</html>
